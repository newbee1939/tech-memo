# 読書メモ

## Web ページの速度（フロントエンドエンジニア）

- ページロード（ページが表示されるまでの速度）
- ランタイム（ページ上での操作に対する UI の応答速度）
  - スクロール操作
  - アニメーション
    - など

## Web フロントエンドを高速化する 3 つのポイント

- ネットワーク処理
  - サーバーから配信される HTML,CSS,JS,画像などのリソースをブラウザがダウンロードする処理
  - ダウンロードするリソースの数やファイルサイズを最適化することが重要
- レンダリング処理
  - ディスプレイへの表示
- スクリプト処理
  - JavaScript による演算や DOM 操作

## Web フロントエンド高速化への取り組み方

- !!推測するな、計測せよ!!
  - Measure, Don't Guess
- いきなりコードを眺めて修正し始めるのはダメ
- 先ずは現在の速度を測る
- なぜページロードが遅いのか、なぜランタイムの UI が鈍いのかを計測によって特定し、それを取り除くことで行うべき

## ページロード速度を左右するネットワーク処理

- 理想のページロード時間は 1 秒以内
- ネットワークの処理速度に影響を与える要素
  - リソースの大きさ(ファイルサイズ)
  - HTTP リクエストの数
    - 無駄なサブリソースが含まれないように気を遣うべき
  - ネットワークの通信距離

## ネットワーク処理の流れ

1. DNS ルックアップ

- ホスト名の解決
- 対応する IP アドレスの返却

2. TCP3 ウェイハンドシェイク

- サーバへの TCP 接続の要求(SYN)
- サーバからの接続要求に対する応答(SYN-ACK)
- サーバとの TCP 接続開始(ACK)

3. HTTP レスポンス

- リクエストに対するサーバからのレスポンス

## ネットワーク処理の基本

- ブラウザが Web ページを表示するまで
  1. 指定された URL から HTML 取得
  2. HTML に応じてサブリソースを取得してページを表示する（フロントエンドの実装に起因する）
  - 2 が大きな遅延の原因となっている

## ネットワーク処理最適化の 3 原則

1. データの転送量をなるべく小さく

- リソースは圧縮や最適化
  - JS などは minify

2. データの転送回数をなるべく小さく
3. データの転送距離をなるべく短く

## Web ページがロードされるとき
